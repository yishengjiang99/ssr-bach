<!DOCTYPE html>
<html>
  <head>
    <script type="module">
      import { initsfbk } from './dist/sfbk.js';

      initsfbk('GeneralUserGS.sf2').then(
        ({ pdta: { findPreset, phdr, pbag, inst } }, sdta) => {
          document.write('<pre>');
          for (const phr of phdr) {
            if (phr.bankId != 0) continue;
            document.write(`${phr.name} ${phr.pbagIndex}\n`);
            if (phr.presetId == 3) {
              document.write(
                JSON.stringify(findPreset(phr.presetId, 0), null, '\t')
              );
            }
          }
          document.write('</pre>');
        }
      );
    </script>
  </head>
  <body></body>
</html>
