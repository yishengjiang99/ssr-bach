<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Mocha</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/mocha/8.3.2/mocha.min.js"
			integrity="sha512-TfAL33PtGUxii1awTCbr3qbzQT5fYi7ItCGUfzWlnMJ4cK5BA8JNY4gJzEs+tQVbyElVbtcI2Jlaf9EFVMvyeg=="
			crossorigin="anonymous"
		></script>

		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/chai/4.3.4/chai.min.js"
			crossorigin="anonymous"
		></script>

		<link href="fa/css/fontawesome.css" rel="stylesheet" />
		<!--load all styles -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-dark.min.css"
		/>
	</head>
	<body>
		<div id="mocha">
			<i id="start" class="button fa fa-play fa-lg">
				<span>start</span>
			</i>
			<i id="start" class="fa fa-play fa-lg">
				<button class="fa fa-play fa-lg" id="start">
					<span>start</span>
				</button>
			</i>
		</div>
		<script type="module">
			import { init, mkui } from "./dist/init.js";
			import { mkdiv as h } from "./node_modules/mkdiv/index.js";
			let controller;

			const start = document.querySelector("#start");
			start.onclick = async (e) => {
				controller = await init(new AudioContext(), 5, "GeneralUserGS.sf2");
				e.target.classList.add("hidden");
				document.querySelector("#mocha").append(mkui(controller));
			};

			const a = document.querySelector("#a1");

			mocha.setup("bdd");
			describe("init", () => {
				it("tests things", () => {
					chai.expect(true);
				});
			});
			mocha.run();
		</script>
	</body>
</html>
